# Инструкция по развертыванию приложения

Данная инструкция поможет вам развернуть Telegram-отправитель сообщений на бесплатном хостинге.

## Варианты бесплатного хостинга

### 1. Render.com
Бесплатный хостинг с PostgreSQL базой данных.

#### Шаги настройки:

1. Зарегистрируйтесь на [Render.com](https://render.com)
2. Создайте новый веб-сервис:
   - Выберите "New" → "Web Service"
   - Подключите GitHub-репозиторий или загрузите код
   - Выберите тип "Web Service"
   - Укажите имя сервиса
   - В разделе "Build Command" укажите: `pip install -r requirements.txt`
   - В разделе "Start Command" укажите: `gunicorn --bind 0.0.0.0:$PORT main:app`
3. Создайте PostgreSQL базу данных:
   - Выберите "New" → "PostgreSQL"
   - Укажите имя базы данных
4. Настройте переменные окружения в веб-сервисе:
   - `SESSION_SECRET` - любая строка для шифрования сессий
   - `DATABASE_URL` - URL вашей PostgreSQL базы (можно скопировать из настроек базы)
   - `TELEGRAM_API_ID` - ID приложения в Telegram API
   - `TELEGRAM_API_HASH` - хеш приложения в Telegram API
   - `FLOWER_PASSWORD` - пароль для входа в цветочный магазин (по умолчанию "гуцулятко")

### 2. Railway.app
Еще один хороший бесплатный хостинг с PostgreSQL.

#### Шаги настройки:

1. Зарегистрируйтесь на [Railway.app](https://railway.app)
2. Создайте новый проект:
   - Выберите "New Project" → "Deploy from GitHub repo"
   - Подключите ваш GitHub-репозиторий
3. Добавьте PostgreSQL базу данных:
   - Нажмите "New" → "Database" → "PostgreSQL"
4. Настройте переменные окружения:
   - Нажмите на ваш сервис → "Variables"
   - Добавьте те же переменные, что и для Render

### 3. Glitch
Полностью бесплатная платформа, простая в использовании.

#### Шаги настройки:

1. Зарегистрируйтесь на [Glitch.com](https://glitch.com)
2. Создайте новый проект:
   - Выберите "New Project" → "Import from GitHub"
   - Введите URL вашего репозитория
3. Настройте .env файл:
   - В левой панели найдите файл `.env`
   - Добавьте переменные окружения (см. файл .env.example)

## Настройка сессий Telegram

После развертывания приложения:

1. Первый вход будет требовать авторизации в Telegram
2. Введите ваш номер телефона и код подтверждения
3. После этого сессия будет сохранена на сервере
4. Для восстановления сессии сохраните файл `ua_session.session` после успешного входа

## Проблемы и их решения

### Приложение не запускается
- Проверьте логи для выявления ошибок
- Убедитесь, что все переменные окружения настроены правильно

### Ошибка подключения к базе данных
- Проверьте правильность URL базы данных
- Убедитесь, что база данных запущена и доступна

### Проблемы с авторизацией Telegram
- Убедитесь, что API ID и API Hash заданы корректно
- Возможно, потребуется заново авторизоваться в Telegram